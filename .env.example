# ============================================
# TEXA-AI Configuration
# ============================================
# Copy this file to .env and fill with your configuration
# ============================================

# Admin Server Configuration
ADMIN_HOST=127.0.0.1
ADMIN_PORT=8787

# Comma-separated hosts allowed for iframe mode.
# Examples:
# VITE_IFRAME_ALLOWED_HOSTS=teknomail.teknoaiglobal.com,*.teknoaiglobal.com
VITE_IFRAME_ALLOWED_HOSTS=

# ============================================
# SUPABASE Configuration (Primary Database)
# ============================================
# Get these from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ============================================
# TOKOPAY Configuration (Payment Gateway)
# ============================================
# Get these from: https://tokopay.id
TOKOPAY_MERCHANT_ID=your-merchant-id
TOKOPAY_SECRET_KEY=your-secret-key

# ============================================
# SUPABASE DATABASE SETUP:
# ============================================
# 
# 1. Go to https://supabase.com and create a new project
# 2. Go to Settings > API to get your URL and keys
# 3. Create the following tables in SQL Editor:
#
# -- Users table
# CREATE TABLE users (
#   id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
#   email TEXT UNIQUE NOT NULL,
#   name TEXT,
#   role TEXT DEFAULT 'USER',
#   photo_url TEXT,
#   subscription_end TIMESTAMP,
#   is_active BOOLEAN DEFAULT true,
#   created_at TIMESTAMP DEFAULT NOW(),
#   updated_at TIMESTAMP DEFAULT NOW(),
#   last_login TIMESTAMP
# );
#
# -- Tools/Catalog table
# CREATE TABLE tools (
#   id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
#   name TEXT NOT NULL,
#   description TEXT,
#   category TEXT DEFAULT 'AI Tools',
#   image_url TEXT,
#   tool_url TEXT,
#   is_premium BOOLEAN DEFAULT false,
#   is_active BOOLEAN DEFAULT true,
#   sort_order INTEGER DEFAULT 0,
#   created_at TIMESTAMP DEFAULT NOW(),
#   updated_at TIMESTAMP DEFAULT NOW()
# );
#
# -- Orders table
# CREATE TABLE orders (
#   id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
#   ref_id TEXT UNIQUE NOT NULL,
#   user_id UUID REFERENCES users(id),
#   user_email TEXT,
#   type TEXT DEFAULT 'subscription',
#   item_id TEXT,
#   item_name TEXT,
#   duration INTEGER,
#   nominal INTEGER,
#   payment_method TEXT,
#   status TEXT DEFAULT 'pending',
#   tokopay_trx_id TEXT,
#   pay_url TEXT,
#   total_bayar INTEGER,
#   total_diterima INTEGER,
#   created_at TIMESTAMP DEFAULT NOW(),
#   updated_at TIMESTAMP DEFAULT NOW(),
#   paid_at TIMESTAMP
# );
#
# -- Settings table
# CREATE TABLE settings (
#   id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
#   key TEXT UNIQUE NOT NULL,
#   value JSONB,
#   updated_at TIMESTAMP DEFAULT NOW()
# );
#
# -- Token vault for extension
# CREATE TABLE token_vault (
#   id TEXT PRIMARY KEY,
#   token TEXT,
#   source TEXT,
#   updated_at TIMESTAMP DEFAULT NOW(),
#   note TEXT
# );
#
# 4. Enable Row Level Security (RLS) and add policies as needed
# ============================================
